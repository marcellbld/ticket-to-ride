{"ast":null,"code":"import _slicedToArray from\"C:/Win11/Programming/Other/ticket-to-ride-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import{useDispatch}from\"react-redux\";import{AppStates}from\"../../domain/app\";import{joinRoom}from\"../../state/lobby/actions\";import{currentSocketId}from\"../../state/socket/reducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ConnectGamePanel(_ref){var setShowNewGamePanel=_ref.setShowNewGamePanel,setAppState=_ref.setAppState;var idRef=useRef(null);var nameRef=useRef(null);var dispatch=useDispatch();var socketId=currentSocketId();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"card card-login mx-auto text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header mx-auto\",children:/*#__PURE__*/_jsx(\"span\",{className:\"logo_title mt-5\",children:\" Csatlakoz\\xE1s j\\xE1t\\xE9khoz\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();dispatch(joinRoom(socketId,nameRef.current.value,idRef.current.value,function(resp){if(resp.status===\"ok\"){setAppState(AppStates.WAITING_FOR_PLAYERS);}else{setErrorMessage(resp.message);console.log(resp.message);}}));idRef.current.value=\"\";nameRef.current.value=\"\";},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"room-id\",children:\"Szoba azonos\\xEDt\\xF3\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"room-id\",className:\"form-control input-orange w-50 mx-auto\",ref:idRef,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"player-name\",children:\"J\\xE1t\\xE9kos n\\xE9v\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"player-name\",className:\"form-control input-orange w-50 mx-auto\",ref:nameRef,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn button-orange px-5 mx-auto\",children:\"Csatlakoz\\xE1s\"}),/*#__PURE__*/_jsx(\"br\",{}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:errorMessage})]})}),/*#__PURE__*/_jsx(\"a\",{href:\"/#\",className:\"btn text-light mt-2\",onClick:function onClick(){return setShowNewGamePanel(true);},children:\"\\xDAj j\\xE1t\\xE9k ind\\xEDt\\xE1sa\"})]});}export default ConnectGamePanel;","map":{"version":3,"names":["React","useRef","useState","useDispatch","AppStates","joinRoom","currentSocketId","ConnectGamePanel","setShowNewGamePanel","setAppState","idRef","nameRef","dispatch","socketId","errorMessage","setErrorMessage","e","preventDefault","current","value","resp","status","WAITING_FOR_PLAYERS","message","console","log","color"],"sources":["C:/Win11/Programming/Other/ticket-to-ride-app/src/views/main/ConnectGamePanel.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { AppStates } from \"../../domain/app\";\r\nimport { joinRoom } from \"../../state/lobby/actions\";\r\nimport { currentSocketId } from \"../../state/socket/reducer\";\r\n\r\nfunction ConnectGamePanel({ setShowNewGamePanel, setAppState }) {\r\n  const idRef = useRef(null);\r\n  const nameRef = useRef(null);\r\n\r\n  const dispatch = useDispatch();\r\n  const socketId = currentSocketId();\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"card card-login mx-auto text-center\">\r\n      <div className=\"card-header mx-auto\">\r\n        <span className=\"logo_title mt-5\"> Csatlakozás játékhoz</span>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n\r\n            dispatch(\r\n              joinRoom(socketId, nameRef.current.value, idRef.current.value, (resp) => {\r\n                if (resp.status === \"ok\") {\r\n                  setAppState(AppStates.WAITING_FOR_PLAYERS);\r\n                } else {\r\n                  setErrorMessage(resp.message);\r\n                  console.log(resp.message);\r\n                }\r\n              })\r\n            );\r\n\r\n            idRef.current.value = \"\";\r\n            nameRef.current.value = \"\";\r\n          }}\r\n        >\r\n          <label htmlFor=\"room-id\">Szoba azonosító</label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            name=\"room-id\"\r\n            className=\"form-control input-orange w-50 mx-auto\"\r\n            ref={idRef}\r\n            required\r\n          />\r\n          <br />\r\n          <label htmlFor=\"player-name\">Játékos név</label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            name=\"player-name\"\r\n            className=\"form-control input-orange w-50 mx-auto\"\r\n            ref={nameRef}\r\n            required\r\n          />\r\n          <br />\r\n          <button type=\"submit\" className=\"btn button-orange px-5 mx-auto\">\r\n            Csatlakozás\r\n          </button>\r\n          <br />\r\n          {errorMessage && <div style={{color: 'red'}}>{errorMessage}</div>}\r\n        </form>\r\n      </div>\r\n      <a\r\n        href=\"/#\"\r\n        className=\"btn text-light mt-2\"\r\n        onClick={() => setShowNewGamePanel(true)}\r\n      >\r\n        Új játék indítása\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConnectGamePanel;\r\n"],"mappings":"mIAAA,MAAOA,MAAK,EAAIC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,QAAQ,KAAQ,2BAA2B,CACpD,OAASC,eAAe,KAAQ,4BAA4B,CAAC,wFAE7D,QAASC,iBAAgB,MAAuC,IAApCC,oBAAmB,MAAnBA,mBAAmB,CAAEC,WAAW,MAAXA,WAAW,CAC1D,GAAMC,MAAK,CAAGT,MAAM,CAAC,IAAI,CAAC,CAC1B,GAAMU,QAAO,CAAGV,MAAM,CAAC,IAAI,CAAC,CAE5B,GAAMW,SAAQ,CAAGT,WAAW,EAAE,CAC9B,GAAMU,SAAQ,CAAGP,eAAe,EAAE,CAClC,cAAwCJ,QAAQ,CAAC,EAAE,CAAC,wCAA7CY,YAAY,eAAEC,eAAe,eAEpC,mBACE,aAAK,SAAS,CAAC,qCAAqC,wBAClD,YAAK,SAAS,CAAC,qBAAqB,uBAClC,aAAM,SAAS,CAAC,iBAAiB,4CAA6B,EAC1D,cACN,YAAK,SAAS,CAAC,WAAW,uBACxB,cACE,QAAQ,CAAE,kBAACC,CAAC,CAAK,CACfA,CAAC,CAACC,cAAc,EAAE,CAElBL,QAAQ,CACNP,QAAQ,CAACQ,QAAQ,CAAEF,OAAO,CAACO,OAAO,CAACC,KAAK,CAAET,KAAK,CAACQ,OAAO,CAACC,KAAK,CAAE,SAACC,IAAI,CAAK,CACvE,GAAIA,IAAI,CAACC,MAAM,GAAK,IAAI,CAAE,CACxBZ,WAAW,CAACL,SAAS,CAACkB,mBAAmB,CAAC,CAC5C,CAAC,IAAM,CACLP,eAAe,CAACK,IAAI,CAACG,OAAO,CAAC,CAC7BC,OAAO,CAACC,GAAG,CAACL,IAAI,CAACG,OAAO,CAAC,CAC3B,CACF,CAAC,CAAC,CACH,CAEDb,KAAK,CAACQ,OAAO,CAACC,KAAK,CAAG,EAAE,CACxBR,OAAO,CAACO,OAAO,CAACC,KAAK,CAAG,EAAE,CAC5B,CAAE,wBAEF,cAAO,OAAO,CAAC,SAAS,mCAAwB,cAChD,aAAM,cACN,cACE,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,SAAS,CACd,SAAS,CAAC,wCAAwC,CAClD,GAAG,CAAET,KAAM,CACX,QAAQ,OACR,cACF,aAAM,cACN,cAAO,OAAO,CAAC,aAAa,kCAAoB,cAChD,aAAM,cACN,cACE,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,aAAa,CAClB,SAAS,CAAC,wCAAwC,CAClD,GAAG,CAAEC,OAAQ,CACb,QAAQ,OACR,cACF,aAAM,cACN,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,gCAAgC,4BAEvD,cACT,aAAM,CACLG,YAAY,eAAI,YAAK,KAAK,CAAE,CAACY,KAAK,CAAE,KAAK,CAAE,UAAEZ,YAAY,EAAO,GAC5D,EACH,cACN,UACE,IAAI,CAAC,IAAI,CACT,SAAS,CAAC,qBAAqB,CAC/B,OAAO,CAAE,yBAAMN,oBAAmB,CAAC,IAAI,CAAC,EAAC,8CAGvC,GACA,CAEV,CAEA,cAAeD,iBAAgB"},"metadata":{},"sourceType":"module"}