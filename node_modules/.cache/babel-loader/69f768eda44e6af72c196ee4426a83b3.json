{"ast":null,"code":"var _jsxFileName = \"C:\\\\Win11\\\\Programming\\\\Other\\\\ticket-to-ride-app\\\\src\\\\views\\\\game\\\\EndGameModal.js\",\n  _s = $RefreshSig$();\nimport { motion } from \"framer-motion\";\nimport React from \"react\";\nimport { FaUser } from \"react-icons/fa\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ClientMessages } from \"../../api/socket\";\nimport { ticketToRideData } from \"../../data/ticket-to-ride-data\";\nimport { AppStates } from \"../../domain/app\";\nimport { selectGame } from \"../../state/game/selector\";\nimport { selectPlayers } from \"../../state/players/selector\";\nimport { wsSendMessage } from \"../../state/socket/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction EndGameModal(_ref) {\n  _s();\n  let {\n    setAppState,\n    showTicketCities,\n    setShowTicketCities\n  } = _ref;\n  const players = useSelector(selectPlayers);\n  const dispatch = useDispatch();\n  const game = useSelector(selectGame);\n  const summaryComponents = players.map((player, i) => {\n    const ticketsValues = player.tickets.reduce((sum, ticket) => {\n      const ticketData = Object.values(ticket.long ? ticketToRideData.longDestinations : ticketToRideData.destinations)[ticket.id];\n      const contains = player.completedTickets.includes(ticket);\n      return sum + (contains ? +ticketData.value : -+ticketData.value);\n    }, 0);\n    const tickets = player.tickets.map((ticket, j) => {\n      const ticketData = Object.values(ticket.long ? ticketToRideData.longDestinations : ticketToRideData.destinations)[ticket.id];\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mx-1 d-inline-block\",\n        style: {\n          backgroundColor: player.completedTickets.find(t => t.id === ticket.id && t.long === ticket.long) ? \"green\" : \"red\",\n          width: \"1.5rem\",\n          height: \"1rem\"\n        },\n        onMouseEnter: () => setShowTicketCities(ticketData),\n        onMouseLeave: () => setShowTicketCities(null)\n      }, j, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"text-left\",\n        children: [/*#__PURE__*/_jsxDEV(FaUser, {\n          color: player.color\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), \" \", player.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"text-center\",\n        children: player.points + ticketsValues\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"text-center px-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: ticketsValues\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-left\",\n          children: tickets\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"position-absolute w-100 h-100 d-flex flex-col justify-content-center align-items-center\",\n      style: {\n        backgroundColor: \"#00000088\",\n        top: 0,\n        left: 0,\n        zIndex: 999,\n        opacity: 0\n      },\n      animate: {\n        opacity: showTicketCities ? 0.2 : 1\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card card-login mx-auto text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header mx-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"logo_title mt-5\",\n                children: \"J\\xE1t\\xE9k v\\xE9ge\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"text-white\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"N\\xE9v\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Utak pont\\xE9rt\\xE9ke\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"C\\xE9lok pont\\xE9rt\\xE9ke\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: summaryComponents\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn button-silver\",\n                onClick: () => {\n                  dispatch(wsSendMessage(ClientMessages.LEAVE_ROOM, [game.id], function () {\n                    setAppState(AppStates.MAIN_PAGE);\n                  }));\n                },\n                children: \"Vissza a f\\u0151men\\xFCbe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(EndGameModal, \"C0Vz7/6ZkNwaJxvKvV/rNh3T8eg=\", false, function () {\n  return [useSelector, useDispatch, useSelector];\n});\n_c = EndGameModal;\nexport default EndGameModal;\nvar _c;\n$RefreshReg$(_c, \"EndGameModal\");","map":{"version":3,"names":["motion","React","FaUser","useDispatch","useSelector","ClientMessages","ticketToRideData","AppStates","selectGame","selectPlayers","wsSendMessage","EndGameModal","setAppState","showTicketCities","setShowTicketCities","players","dispatch","game","summaryComponents","map","player","i","ticketsValues","tickets","reduce","sum","ticket","ticketData","Object","values","long","longDestinations","destinations","id","contains","completedTickets","includes","value","j","backgroundColor","find","t","width","height","color","name","points","top","left","zIndex","opacity","LEAVE_ROOM","MAIN_PAGE"],"sources":["C:/Win11/Programming/Other/ticket-to-ride-app/src/views/game/EndGameModal.js"],"sourcesContent":["import { motion } from \"framer-motion\";\r\nimport React from \"react\";\r\nimport { FaUser } from \"react-icons/fa\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { ClientMessages } from \"../../api/socket\";\r\nimport { ticketToRideData } from \"../../data/ticket-to-ride-data\";\r\nimport { AppStates } from \"../../domain/app\";\r\nimport { selectGame } from \"../../state/game/selector\";\r\nimport { selectPlayers } from \"../../state/players/selector\";\r\nimport { wsSendMessage } from \"../../state/socket/actions\";\r\n\r\nfunction EndGameModal({ setAppState, showTicketCities, setShowTicketCities }) {\r\n  const players = useSelector(selectPlayers);\r\n  const dispatch = useDispatch();\r\n  const game = useSelector(selectGame);\r\n\r\n  const summaryComponents = players.map((player, i) => {\r\n\r\n    const ticketsValues = player.tickets.reduce((sum, ticket) => {\r\n      const ticketData = Object.values(\r\n        ticket.long\r\n          ? ticketToRideData.longDestinations\r\n          : ticketToRideData.destinations\r\n      )[ticket.id];\r\n      const contains = player.completedTickets.includes(ticket);\r\n      return sum + (contains ? +ticketData.value : -+ticketData.value);\r\n    }, 0);\r\n\r\n    const tickets = player.tickets.map((ticket, j) => {\r\n      const ticketData = Object.values(\r\n        ticket.long\r\n          ? ticketToRideData.longDestinations\r\n          : ticketToRideData.destinations\r\n      )[ticket.id];\r\n\r\n      return (\r\n        <span\r\n          key={j}\r\n          className=\"mx-1 d-inline-block\"\r\n          style={{\r\n            backgroundColor: player.completedTickets.find(\r\n              (t) => t.id === ticket.id && t.long === ticket.long\r\n            )\r\n              ? \"green\"\r\n              : \"red\",\r\n            width: \"1.5rem\",\r\n            height: \"1rem\",\r\n          }}\r\n          onMouseEnter={() => setShowTicketCities(ticketData)}\r\n          onMouseLeave={() => setShowTicketCities(null)}\r\n        ></span>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <tr key={i}>\r\n        <td className=\"text-left\">\r\n          <FaUser color={player.color} /> {player.name}\r\n        </td>\r\n        <td className=\"text-center\">{player.points + ticketsValues}</td>\r\n        <td className=\"text-center px-5\">\r\n          <div>{ticketsValues}</div>\r\n          <div className=\"text-left\">{tickets}</div>\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        className=\"position-absolute w-100 h-100 d-flex flex-col justify-content-center align-items-center\"\r\n        style={{\r\n          backgroundColor: \"#00000088\",\r\n          top: 0,\r\n          left: 0,\r\n          zIndex: 999,\r\n          opacity: 0,\r\n        }}\r\n        animate={{ opacity: showTicketCities ? 0.2 : 1 }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <div className=\"card card-login mx-auto text-center\">\r\n              <div className=\"card-header mx-auto\">\r\n                <span className=\"logo_title mt-5\">Játék vége</span>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <table className=\"\">\r\n                  <thead className=\"text-white\">\r\n                    <tr>\r\n                      <th>Név</th>\r\n                      <th>Utak pontértéke</th>\r\n                      <th>Célok pontértéke</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>{summaryComponents}</tbody>\r\n                </table>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn button-silver\"\r\n                  onClick={() => {\r\n                    \r\n                    dispatch(wsSendMessage(ClientMessages.LEAVE_ROOM, [game.id], function() {\r\n                      setAppState(AppStates.MAIN_PAGE);\r\n                    } ));\r\n                  }\r\n                  }\r\n                >\r\n                  Vissza a főmenübe\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EndGameModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}