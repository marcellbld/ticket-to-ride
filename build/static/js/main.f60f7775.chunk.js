(this["webpackJsonpticket-to-ride-app"]=this["webpackJsonpticket-to-ride-app"]||[]).push([[0],{54:function(t,e,o){},55:function(t,e,o){},67:function(t,e,o){"use strict";o.r(e);var r=o(2),n=o.n(r),i=o(33),a=o.n(i),c=(o(54),o(5)),l=(o(55),o(1));var s=function(t){var e=t.children,o="GamePage"===e.type.name;return Object(l.jsx)("div",{className:"container-fluid h-100 w-100 d-flex justify-content-center align-items-center",style:{backgroundImage:o?"":"url(background.jpg)",backgroundPosition:"center"},children:e})},y=o(3),m=0,d=1,u=2,f=o(40),x=o(43),j=o(6),b="join-room",v="create-room",C="leave-room",h="sync-state",O="sync-action",p="get-state",g="NEXT_TURN",S="ADD_BUILT_CONNECTION",k="ADD_TICKET",N="ADD_HISTORY",E="ADD_COMPLETED_TICKET",I="END_TURN",w="state-changed",R="action-sent",T="WS_SUBSCRIBE",B="WS_UNSUBSCRIBE",D="WS_SEND_MESSAGE",M=function(t,e,o){return{type:D,channel:t,datas:e,ack:o}},A=function(t,e){return{type:T,payload:{channel:t,callback:e}}},_="CREATE_ROOM";function P(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{type:_,payload:{roomId:t,roomSize:e,players:o}}}var z=o(49),L=null;function F(){return L?L.id:null}var W=function(t){var e=t.setShowNewGamePanel,o=t.setAppState,n=Object(r.useRef)(null),i=Object(r.useRef)(null),a=Object(y.b)(),s=F(),m=Object(r.useState)(""),u=Object(c.a)(m,2),f=u[0],x=u[1];return Object(l.jsxs)("div",{className:"card card-login mx-auto text-center",children:[Object(l.jsx)("div",{className:"card-header mx-auto",children:Object(l.jsx)("span",{className:"logo_title mt-5",children:" Csatlakoz\xe1s j\xe1t\xe9khoz"})}),Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("form",{onSubmit:function(t){var e,r,c,l;t.preventDefault(),a((e=s,r=i.current.value,c=n.current.value,l=function(t){"ok"===t.status?o(d):(x(t.message),console.log(t.message))},function(t){t(M(b,[c],(function(o){"ok"===o.status&&t(M(p,[c],(function(o){var n=JSON.parse(o.state);n.players=[].concat(Object(j.a)(n.players),[{id:e,name:r}]),t(M(h,[n.roomId,n,!1],(function(){})))}))),l(o)})))})),n.current.value="",i.current.value=""},children:[Object(l.jsx)("label",{htmlFor:"room-id",children:"Szoba azonos\xedt\xf3"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",name:"room-id",className:"form-control input-orange w-50 mx-auto",ref:n,required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"player-name",children:"J\xe1t\xe9kos n\xe9v"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",name:"player-name",className:"form-control input-orange w-50 mx-auto",ref:i,required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",className:"btn button-orange px-5 mx-auto",children:"Csatlakoz\xe1s"}),Object(l.jsx)("br",{}),f&&Object(l.jsx)("div",{style:{color:"red"},children:f})]})}),Object(l.jsx)("a",{href:"/#",className:"btn text-light mt-2",onClick:function(){return e(!0)},children:"\xdaj j\xe1t\xe9k ind\xedt\xe1sa"})]})};var U=function(t){var e=t.setShowNewGamePanel,o=t.setAppState,n=Object(r.useRef)(null),i=Object(r.useRef)(null),a=Object(y.b)();return Object(l.jsxs)("div",{className:"card card-login mx-auto text-center",children:[Object(l.jsx)("div",{className:"card-header mx-auto",children:Object(l.jsx)("span",{className:"logo_title mt-5",children:" \xdaj j\xe1t\xe9k ind\xedt\xe1sa"})}),Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("form",{onSubmit:function(t){var e,r,c,l,s=F();t.preventDefault(),a((e=s,r=i.current.value,c=n.current.value,l=function(t){n.current.value="1",i.current.value="",o(d)},function(){var t=Object(x.a)(Object(f.a)().mark((function t(o,n){return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o(M(v,[c],(function(t){o(P(t.roomId,c,[{id:e,name:r}]));var i=n().lobby;o(M(h,[i.roomId,i,!1],(function(){}))),l(t)})));case 1:case"end":return t.stop()}}),t)})));return function(e,o){return t.apply(this,arguments)}}()))},children:[Object(l.jsx)("label",{htmlFor:"player-number",children:"J\xe1t\xe9kosok sz\xe1ma"}),Object(l.jsx)("br",{}),Object(l.jsxs)("select",{className:"form-control mx-auto custom-select",name:"player-number",defaultValue:"1",style:{width:"auto"},ref:n,children:[Object(l.jsx)("option",{value:"1",children:"1"}),Object(l.jsx)("option",{value:"2",children:"2"}),Object(l.jsx)("option",{value:"3",children:"3"}),Object(l.jsx)("option",{value:"4",children:"4"}),Object(l.jsx)("option",{value:"5",children:"5"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"player-name",children:"J\xe1t\xe9kos n\xe9v"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",name:"player-name",className:"form-control input-orange w-50 mx-auto",ref:i,required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{type:"submit",className:"btn button-orange px-5 mx-auto",children:"Ind\xedt\xe1s"})]})}),Object(l.jsx)("a",{href:"/#",className:"btn text-light mt-2",onClick:function(){return e(!1)},children:"Csatlakoz\xe1s megl\xe9v\u0151 j\xe1t\xe9khoz"})]})};var K=function(t){var e=t.setAppState,o=Object(r.useState)(!0),n=Object(c.a)(o,2),i=n[0],a=n[1];return Object(l.jsxs)("div",{className:"h-100 d-flex flex-column align-items-center",children:[Object(l.jsx)("div",{className:"mt-4 position-absolute",children:Object(l.jsx)("img",{src:"logo.png",alt:""})}),Object(l.jsx)("div",{className:"my-auto",children:i?Object(l.jsx)(U,{setShowNewGamePanel:a,setAppState:e}):Object(l.jsx)(W,{setShowNewGamePanel:a,setAppState:e})}),Object(l.jsx)("div",{className:"mb-2 text-center",children:Object(l.jsx)("a",{className:"btn text-light",href:"https://tarsasjatekrendeles.hu/shop_ordered/7237/pic/Compaya/Ticket_To_Ride_Europe.pdf",children:"J\xe1t\xe9kszab\xe1lyzat"})})]})},V=o(4),G=o(14),Z=o.n(G),H={RED:"#FF0000",BLUE:"#0000FF",GREEN:"#00FF00",ORANGE:"#ffa500",PURPLE:"#800080",WHITE:"#FFFFFF",YELLOW:"#ffff00",BLACK:"#000000",LOCOMOTIVE:"#708090"},q=Z.a.shape({id:Z.a.number.isRequired,color:Z.a.oneOf(Object.values(H)),cardState:Z.a.oneOf(Object.values(H))}),J={PLAYERS:[0,1,2,3,4],DECK:-1,PUBLIC:[-2,-3,-4,-5,-6],REMOVED:-10},Y={USER_BEGIN:0,DRAW_CARDS:1,DRAW_CARD2:2,BUILD_LINE:3,SELECT_CARDS:4,NEW_DESTINATIONS:5,END_GAME:9},X=(Z.a.shape({id:Z.a.number.isRequired,currentPlayerId:Z.a.number.isRequired,playerNumber:Z.a.number.isRequired,publicCards:Z.a.arrayOf(q).isRequired,gameState:Z.a.oneOf(Object.values(Y)).isRequired,endTurn:Z.a.number.isRequired}),"SET_DECK"),Q="UPDATE_CARD",$="REMOVE_CARD_FROM_PLAYER";function tt(t){return{type:"SET_DECK",payload:t}}function et(t,e,o){return function(r,n){r(function(t,e,o){return{type:"REMOVE_CARD_FROM_PLAYER",payload:{playerId:t,color:e,amount:o}}}(t,e,o)),r(M(h,[n().game.id,{deck:n().deck,players:n().players},!0],(function(){})))}}function ot(t){return function(e,o){e(function(t){return{type:"UPDATE_CARD",payload:t}}(t)),e(M(h,[o().game.id,{deck:o().deck,players:o().players},!0],(function(){})))}}var rt="SET_PLAYERS",nt="ADD_BUILT_CONNECTION",it="ADD_TICKET",at="NEXT_PLAYER_TURN",ct="ADD_HISTORY",lt="ADD_COMPLETED_TICKET";function st(t,e){return{type:nt,payload:{playerId:t,connectionId:e}}}function yt(t,e){return{type:it,payload:{playerId:t,ticket:e}}}function mt(t,e){return{type:ct,payload:{playerId:t,historyElement:e}}}function dt(t,e){return{type:lt,payload:{playerId:t,ticket:e}}}function ut(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,n){r(st(t,e)),o&&r(M(O,[n().game.id,{type:S,payload:{playerId:t,connectionId:e}},!0],(function(){})))}}function ft(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,n){r(yt(t,e)),o&&r(M(O,[n().game.id,{type:k,payload:{playerId:t,ticket:e}},!0],(function(){})))}}function xt(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,n){r(mt(t,e)),o&&r(M(O,[n().game.id,{type:N,payload:{playerId:t,historyElement:e}},!0],(function(){})))}}function jt(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,n){r(dt(t,e)),o&&r(M(O,[n().game.id,{type:E,payload:{playerId:t,ticket:e}},!0],(function(){})))}}var bt="NEXT_TURN",vt="SET_GAME",Ct="SET_GAME_STATE",ht="SET_END_TURN";function Ot(t){return{type:ht,payload:t}}function pt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(o,r){o(Ot(t)),e&&o(M(O,[r().game.id,{type:I,payload:t},!1],(function(){})))}}function gt(){return function(t,e){var o;t({type:"NEXT_TURN"}),t((o=e().game.currentPlayerId,{type:at,payload:o}));var r=e().game.endTurn,n=e().players.find((function(t){return t.id===e().game.currentPlayerId}));r>-1&&n.round>=r&&t(St(Y.END_GAME))}}function St(t){return function(e,o){e(function(t){return{type:Ct,payload:t}}(t)),t===Y.DRAW_CARD2&&e(M(O,[o().game.id,{type:g},!1],(function(){})))}}function kt(t){return t.lobby}function Nt(t,e){var o={id:e.roomId,currentPlayerId:0,playerNumber:e.players.length,publicCards:[],gameState:Y.USER_BEGIN,endTurn:-1},r=e.players.map((function(t,e){var o=[];o.push({id:Math.floor(6*Math.random()),long:!0});for(var r=function(){var t=Math.floor(40*Math.random());o.find((function(e){return e.id===t&&!1===e.long}))||o.push({id:t,long:!1})};o.length<6;)r();return{id:e,name:t.name,socketId:t.id,points:0,remainingCars:45,cards:[],tickets:o,completedTickets:[],round:0,color:Object.values(H)[e],builtConnections:[],history:[]}}));r[0].round=1;var n=Object.keys(H).length-1,i=0,a=Object(j.a)(Array(12*n).keys()).map((function(t){return{id:i++,color:Object.values(H)[t%n],cardState:J.DECK}}));a.push.apply(a,Object(j.a)(Object(j.a)(Array(14).keys()).map((function(t){return{id:i++,color:H.LOCOMOTIVE,cardState:J.DECK}})))),function(t){for(var e=t.length-1;e>0;e--){var o=Math.floor(Math.random()*(e+1)),r=[t[o],t[e]];t[e]=r[0],t[o]=r[1]}}(a);for(var c=0;c<r.length;c++)for(var l=0;l<5;l++)a[5*c+l].cardState=c;for(var s=0;s<5;s++)a[5*r.length+s].cardState=J.PUBLIC[s];t(M(h,[o.id,{game:o,deck:a,players:r},!1],(function(){})))}var Et=function(t){var e=t.setAppState,o=Object(y.c)(kt),n=function(t,e){var o=Object(r.useState)(t),n=Object(c.a)(o,2),i=n[0],a=n[1],l=Object(r.useState)(1),s=Object(c.a)(l,2),y=s[0],m=s[1];return Object(r.useEffect)((function(){var t=i&&setInterval((function(){m(y-1),y<=0&&(clearInterval(t),e(u))}),1e3);return function(){return clearInterval(t)}}),[y,i,e]),{startTimer:y,roomIsFull:i,changeRoomIsFull:function(t){a(t)}}}(!1,e),i=n.startTimer,a=n.roomIsFull,s=n.changeRoomIsFull,d=Object(y.b)(),f=F();if(Object(r.useEffect)((function(){console.log("USE EFFECT"),d(A(w,(function(t){if(t.state.game)d((r=t.state.game,{type:vt,payload:r})),d(tt(t.state.deck)),d((o=t.state.players,{type:rt,payload:o})),d({type:B,payload:w});else{var e=t.state;d(P(e.roomId,e.roomSize,e.players))}var o,r})))}),[d]),!a){var x=o.players.length===+o.roomSize;x&&(s(x),o.players[0]&&o.players[0].id===f&&Nt(d,o))}var j=o.players.map((function(t,e){t._;var o=t.name;return Object(l.jsx)("div",{className:"text-center",children:o},e+1)}));return j.unshift(Object(l.jsx)("div",{className:"text-orange",children:"Players"},0)),Object(l.jsxs)("div",{className:"h-100 d-flex flex-column align-items-center",children:[Object(l.jsxs)("div",{className:"mt-5 position-absolute col",children:[Object(l.jsx)("div",{className:"text-center",children:"Szoba azonos\xedt\xf3:"}),Object(l.jsx)("div",{className:"h2 text-orange text-center",children:o.roomId})]}),Object(l.jsx)("div",{className:"position-absolute",style:{top:"40%"},children:Object(l.jsx)("div",{className:"position-relative text-center",children:a?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:"Kezd\u0151dik a j\xe1t\xe9k"}),Object(l.jsx)("div",{children:i})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"lds-ring",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:"Waiting for players..."})})]})})}),Object(l.jsxs)("div",{className:"mt-auto text-center",children:[Object(l.jsx)("div",{children:j}),Object(l.jsx)("div",{className:"mb-2",children:!a&&Object(l.jsx)("button",{type:"button",className:"btn button-orange px-5 mx-auto",onClick:function(){d(M(h,[o.roomId,Object(V.a)(Object(V.a)({},o),{},{players:o.players.filter((function(t){return t.id!==f}))}),!1],(function(){e(m)})))},children:"Vissza"})})]})]})},It=o(7),wt={cities:{1:{id:"1",city:"Amsterdam",today:"Amsterdam",country:"Holland",x:31.874999999999996,y:30.58161350844278},2:{id:"2",city:"Angora",today:"Ankara",country:"Turkey",x:85.625,y:89.8686679174484},3:{id:"3",city:"Athina",today:"Athens",country:"Greece",x:66,y:89.8686679174484},4:{id:"4",city:"Barcelona",today:"Barcelona",country:"Spain",x:21.625,y:84.42776735459663},5:{id:"5",city:"Berlin",today:"Berlin",country:"Germany",x:49.125,y:34.33395872420263},6:{id:"6",city:"Brest",today:"Brest",country:"France",x:13.25,y:47.27954971857411},7:{id:"7",city:"Brindisi",today:"Brindisi",country:"Italy",x:54.37499999999999,y:78.61163227016885},8:{id:"8",city:"Bruxelles",today:"Brussels",country:"Belgium",x:29.625,y:37.5234521575985},9:{id:"9",city:"Bucuresti",today:"Bucharest",country:"Romania",x:73.5,y:64.35272045028142},10:{id:"10",city:"Budapest",today:"Budapest",country:"Hungary",x:59.12500000000001,y:54.409005628517825},11:{id:"11",city:"Cadiz",today:"Cadiz",country:"Spain",x:10.875,y:93.62101313320825},12:{id:"12",city:"Constantinople",today:"Istanbul",country:"Turkey",x:78.375,y:81.98874296435272},13:{id:"13",city:"Danzig",today:"Gdansk",country:"Poland",x:60,y:23.076923076923077},14:{id:"14",city:"Dieppe",today:"Dieppe",country:"France",x:21.75,y:43.151969981238274},15:{id:"15",city:"Edinburgh",today:"Edinburgh",country:"Scotland, UK",x:16.5,y:8.818011257035648},16:{id:"16",city:"Erzurum",today:"Erzurum",country:"Turkey",x:93.25,y:86.49155722326454},17:{id:"17",city:"Essen",today:"Essen",country:"Germany",x:39.625,y:32.08255159474672},18:{id:"18",city:"Frankfurt",today:"Frankfurt",country:"Germany",x:38.125,y:42.21388367729831},19:{id:"19",city:"Kharkov",today:"Kharkov",country:"Ukraine",x:91.625,y:48.21763602251407},20:{id:"20",city:"Kobenhavn",today:"Copenhagen",country:"Denmark",x:46.625,y:17.073170731707318},21:{id:"21",city:"Kyiv",today:"Kiev",country:"Ukraine",x:78.875,y:40.52532833020638},22:{id:"22",city:"Lisboa",today:"Lisbon",country:"Portugal",x:4.625,y:86.49155722326454},23:{id:"23",city:"London",today:"London",country:"England, UK",x:22.75,y:30.393996247654787},24:{id:"24",city:"Madrid",today:"Madrid",country:"Spain",x:10.875,y:83.11444652908068},25:{id:"25",city:"Marseille",today:"Marseille",country:"France",x:34.875,y:70.73170731707317},26:{id:"26",city:"Moskva",today:"Moscow",country:"Russia",x:93,y:26.454033771106943},27:{id:"27",city:"Munchen",today:"Munich",country:"Germany",x:43.625,y:48.405253283302066},28:{id:"28",city:"Palermo",today:"Palermo",country:"Italy",x:49.625,y:93.80863039399625},29:{id:"29",city:"Pamplona",today:"Pamplona",country:"Italy",x:20.375,y:71.48217636022514},30:{id:"30",city:"Paris",today:"Paris",country:"France",x:26.375,y:49.71857410881801},31:{id:"31",city:"Petrograd",today:"St. Petersburg",country:"Russia",x:83.875,y:9.568480300187618},32:{id:"32",city:"Riga",today:"Riga",country:"Latvia",x:67.75,y:10.318949343339586},33:{id:"33",city:"Roma",today:"Rome",country:"Italy",x:46,y:74.85928705440901},34:{id:"34",city:"Rostov",today:"Rostov",country:"Russia",x:95.625,y:55.72232645403376},35:{id:"35",city:"Sarajevo",today:"Sarajevo",country:"Bosnia and Herzegovina",x:61.375,y:72.23264540337712},36:{id:"36",city:"Sevastopol",today:"Sevastopol",country:"Ukraine",x:86.625,y:66.60412757973734},37:{id:"37",city:"Smolensk",today:"Smolensk",country:"Russia",x:85.125,y:30.0187617260788},38:{id:"38",city:"Smyrna",today:"Izmir",country:"Turkey",x:74.125,y:93.24577861163228},39:{id:"39",city:"Sochi",today:"Sochi",country:"Russia",x:95.125,y:68.66791744840526},40:{id:"40",city:"Sofia",today:"Sofia",country:"Bulgaria",x:67.625,y:73.35834896810508},41:{id:"41",city:"Stockholm",today:"Stockholm",country:"Sweden",x:56.25,y:6.0037523452157595},42:{id:"42",city:"Venezia",today:"Venice",country:"Italy",x:45.375,y:62.10131332082551},43:{id:"43",city:"Warszawa",today:"Warsaw",country:"Poland",x:64.625,y:32.833020637898684},44:{id:"44",city:"Wien",today:"Vienna",country:"Austria",x:54.75,y:50.84427767354597},45:{id:"45",city:"Wilno",today:"Vilnius",country:"Lithuania",x:75.125,y:29.45590994371482},46:{id:"46",city:"Zagrab",today:"Zagreb",country:"Croatia",x:53.37499999999999,y:63.789868667917446},47:{id:"47",city:"Zurich",today:"Zurich",country:"Switzerland",x:37.25,y:57.410881801125704}},connections:{1:{id:1,from:"15",fromCity:"Edinburgh",to:"23",toCity:"London",elements:[{x:17,y:13.133208255159476},{x:18.375,y:17.636022514071296},{x:19.625,y:22.5140712945591},{x:21.125,y:27.392120075046904}],color:"black",locomotive:0},2:{id:2,from:"15",fromCity:"Edinburgh",to:"23",toCity:"London",elements:[{x:18.25,y:12.195121951219512},{x:19.5,y:17.26078799249531},{x:20.75,y:22.138836772983115},{x:22.375,y:26.82926829268293}],color:"orange",locomotive:0},3:{id:3,from:"23",fromCity:"London",to:"14",toCity:"Dieppe",elements:[{x:21.5,y:34.146341463414636},{x:21.125,y:39.02439024390244}],color:"gray",locomotive:1},4:{id:4,from:"23",fromCity:"London",to:"14",toCity:"Dieppe",elements:[{x:22.625,y:33.95872420262664},{x:22.375,y:39.21200750469043}],color:"gray",locomotive:1},5:{id:5,from:"23",fromCity:"London",to:"1",toCity:"Amsterdam",elements:[{x:25.25,y:30.0187617260788},{x:28.625,y:30.206378986866795}],color:"gray",locomotive:2},6:{id:6,from:"14",fromCity:"Dieppe",to:"6",toCity:"Brest",elements:[{x:18.75,y:42.77673545966229},{x:15.25,y:44.27767354596623}],color:"orange",locomotive:0},7:{id:7,from:"6",fromCity:"Brest",to:"30",toCity:"Paris",elements:[{x:15.75,y:47.467166979362105},{x:19.125,y:48.21763602251407},{x:22.625,y:48.78048780487805}],color:"black",locomotive:0},8:{id:8,from:"14",fromCity:"Dieppe",to:"30",toCity:"Paris",elements:[{x:23.875,y:45.96622889305816}],color:"purple",locomotive:0},9:{id:9,from:"14",fromCity:"Dieppe",to:"8",toCity:"Bruxelles",elements:[{x:24.375,y:41.46341463414634},{x:27.125,y:38.46153846153847}],color:"green",locomotive:0},10:{id:10,from:"1",fromCity:"Amsterdam",to:"8",toCity:"Bruxelles",elements:[{x:30.875000000000004,y:33.95872420262664}],color:"black",locomotive:0},11:{id:11,from:"8",fromCity:"Bruxelles",to:"30",toCity:"Paris",elements:[{x:28.499999999999996,y:40.71294559099437},{x:26.875,y:45.21575984990619}],color:"yellow",locomotive:0},12:{id:12,from:"8",fromCity:"Bruxelles",to:"30",toCity:"Paris",elements:[{x:29.5,y:41.651031894934334},{x:28.000000000000004,y:45.96622889305816}],color:"red",locomotive:0},13:{id:13,from:"1",fromCity:"Amsterdam",to:"18",toCity:"Frankfurt",elements:[{x:34,y:34.146341463414636},{x:36.5,y:37.89868667917448}],color:"white",locomotive:0},14:{id:14,from:"8",fromCity:"Bruxelles",to:"18",toCity:"Frankfurt",elements:[{x:32.25,y:37.5234521575985},{x:35.5,y:39.02439024390244}],color:"blue",locomotive:0},15:{id:15,from:"1",fromCity:"Amsterdam",to:"17",toCity:"Essen",elements:[{x:32.125,y:27.204502814258912},{x:34.625,y:26.26641651031895},{x:37.75,y:29.268292682926827}],color:"yellow",locomotive:0},16:{id:16,from:"6",fromCity:"Brest",to:"29",toCity:"Pamplona",elements:[{x:15.5,y:49.906191369606},{x:18.25,y:53.47091932457786},{x:19.5,y:58.536585365853654},{x:19.75,y:63.977485928705434}],color:"purple",locomotive:0},17:{id:17,from:"30",fromCity:"Paris",to:"29",toCity:"Pamplona",elements:[{x:24.25,y:52.5328330206379},{x:23.5,y:57.78611632270169},{x:22.375,y:62.6641651031895},{x:20.875,y:67.54221388367729}],color:"blue",locomotive:0},18:{id:18,from:"30",fromCity:"Paris",to:"29",toCity:"Pamplona",elements:[{x:25.624999999999996,y:53.47091932457786},{x:24.75,y:58.536585365853654},{x:23.625,y:63.41463414634146},{x:21.875,y:68.29268292682927}],color:"green",locomotive:0},19:{id:19,from:"29",fromCity:"Pamplona",to:"24",toCity:"Madrid",elements:[{x:17.25,y:72.04502814258912},{x:14.499999999999998,y:75.60975609756098},{x:12.25,y:79.54971857410882}],color:"black",locomotive:0},20:{id:20,from:"29",fromCity:"Pamplona",to:"24",toCity:"Madrid",elements:[{x:18.125,y:73.54596622889305},{x:15.375,y:76.73545966228893},{x:13.125,y:80.86303939962477}],color:"white",locomotive:0},21:{id:21,from:"24",fromCity:"Madrid",to:"22",toCity:"Lisboa",elements:[{x:9,y:80.67542213883677},{x:5.375,y:78.79924953095684},{x:4.375,y:82.17636022514071}],color:"purple",locomotive:0},22:{id:22,from:"24",fromCity:"Madrid",to:"11",toCity:"Cadiz",elements:[{x:13.125,y:85.55347091932458},{x:15,y:89.8686679174484},{x:13.25,y:92.4953095684803}],color:"orange",locomotive:0},23:{id:23,from:"22",fromCity:"Lisboa",to:"11",toCity:"Cadiz",elements:[{x:5.625,y:89.49343339587243},{x:8.5,y:92.87054409005628}],color:"blue",locomotive:0},24:{id:24,from:"24",fromCity:"Madrid",to:"4",toCity:"Barcelona",elements:[{x:15.125,y:83.67729831144464},{x:18.5,y:84.05253283302065}],color:"yellow",locomotive:0},25:{id:25,from:"29",fromCity:"Pamplona",to:"4",toCity:"Barcelona",elements:[{x:20.75,y:75.23452157598499},{x:21.125,y:80.48780487804879}],color:"gray",locomotive:0},26:{id:26,from:"4",fromCity:"Barcelona",to:"25",toCity:"Marseille",elements:[{x:23.5,y:81.05065666041276},{x:25.874999999999996,y:77.6735459662289},{x:28.749999999999996,y:74.48405253283302},{x:31.874999999999996,y:72.23264540337712}],color:"gray",locomotive:0},27:{id:27,from:"29",fromCity:"Pamplona",to:"25",toCity:"Marseille",elements:[{x:23.25,y:72.79549718574108},{x:25,y:70.1688555347092},{x:27.875,y:67.16697936210132},{x:31.374999999999996,y:68.29268292682927}],color:"red",locomotive:0},28:{id:28,from:"30",fromCity:"Paris",to:"25",toCity:"Marseille",elements:[{x:27,y:54.971857410881796},{x:28.375,y:60.0375234521576},{x:30.875000000000004,y:63.60225140712945},{x:33.625,y:67.3545966228893}],color:"gray",locomotive:0},29:{id:29,from:"30",fromCity:"Paris",to:"47",toCity:"Zurich",elements:[{x:28.875,y:53.84615384615385},{x:31.5,y:57.223264540337716},{x:35,y:58.348968105065666}],color:"gray",locomotive:0},30:{id:30,from:"47",fromCity:"Zurich",to:"25",toCity:"Marseille",elements:[{x:36.875,y:61.16322701688556},{x:36.125,y:66.22889305816135}],color:"purple",locomotive:0},31:{id:31,from:"30",fromCity:"Paris",to:"18",toCity:"Frankfurt",elements:[{x:29.625,y:48.405253283302066},{x:33,y:46.34146341463415},{x:35.875,y:43.52720450281426}],color:"white",locomotive:0},32:{id:32,from:"30",fromCity:"Paris",to:"18",toCity:"Frankfurt",elements:[{x:30.125,y:50.28142589118198},{x:33.5,y:48.030018761726076},{x:36.5,y:45.0281425891182}],color:"orange",locomotive:0},33:{id:33,from:"17",fromCity:"Essen",to:"18",toCity:"Frankfurt",elements:[{x:39.875,y:38.27392120075047},{x:41.5,y:35.45966228893058}],color:"green",locomotive:0},34:{id:34,from:"18",fromCity:"Frankfurt",to:"27",toCity:"Munchen",elements:[{x:39.125,y:45.77861163227016},{x:40.875,y:48.78048780487805}],color:"purple",locomotive:0},35:{id:35,from:"47",fromCity:"Zurich",to:"27",toCity:"Munchen",elements:[{x:39.375,y:54.59662288930581},{x:41.875,y:51.21951219512195}],color:"yellow",locomotive:0},36:{id:36,from:"47",fromCity:"Zurich",to:"42",toCity:"Venezia",elements:[{x:39.625,y:59.09943714821764},{x:42.75,y:61.53846153846154}],color:"green",locomotive:0},37:{id:37,from:"27",fromCity:"Munchen",to:"42",toCity:"Venezia",elements:[{x:44,y:53.283302063789876},{x:44.75,y:58.16135084427767}],color:"blue",locomotive:0},38:{id:38,from:"25",fromCity:"Marseille",to:"33",toCity:"Roma",elements:[{x:37.25,y:69.04315196998124},{x:40,y:65.85365853658537},{x:42.375,y:67.7298311444653},{x:44.375,y:72.04502814258912}],color:"gray",locomotive:0},39:{id:39,from:"42",fromCity:"Venezia",to:"33",toCity:"Roma",elements:[{x:45.625,y:66.04127579737336},{x:46.375,y:70.91932457786116}],color:"black",locomotive:0},40:{id:40,from:"18",fromCity:"Frankfurt",to:"5",toCity:"Berlin",elements:[{x:40.5,y:40.150093808630395},{x:43.625,y:37.71106941838649},{x:46.75,y:35.647279549718576}],color:"black",locomotive:0},41:{id:41,from:"18",fromCity:"Frankfurt",to:"5",toCity:"Berlin",elements:[{x:41,y:41.651031894934334},{x:44.125,y:39.39962476547842},{x:47.25,y:37.3358348968105}],color:"red",locomotive:0},42:{id:42,from:"17",fromCity:"Essen",to:"5",toCity:"Berlin",elements:[{x:43.125,y:31.70731707317073},{x:46.5,y:32.270168855534706}],color:"blue",locomotive:0},43:{id:43,from:"17",fromCity:"Essen",to:"20",toCity:"Kobenhavn",elements:[{x:40.375,y:28.142589118198874},{x:42.25,y:23.827392120075046},{x:44.25,y:19.324577861163228}],color:"gray",locomotive:1},44:{id:44,from:"17",fromCity:"Essen",to:"20",toCity:"Kobenhavn",elements:[{x:41.5,y:29.080675422138835},{x:43.375,y:24.577861163227016},{x:45.25,y:20.26266416510319}],color:"gray",locomotive:1},45:{id:45,from:"20",fromCity:"Kobenhavn",to:"41",toCity:"Stockholm",elements:[{x:47.875,y:13.696060037523452},{x:50.24999999999999,y:9.943714821763603},{x:53.37499999999999,y:6.941838649155723}],color:"yellow",locomotive:0},46:{id:46,from:"20",fromCity:"Kobenhavn",to:"41",toCity:"Stockholm",elements:[{x:48.75,y:15.196998123827393},{x:51.125,y:11.632270168855536},{x:54,y:8.442776735459661}],color:"white",locomotive:0},47:{id:47,from:"27",fromCity:"Munchen",to:"44",toCity:"Wien",elements:[{x:45.5,y:51.21951219512195},{x:48.75,y:53.65853658536586},{x:52.125,y:51.969981238273924}],color:"orange",locomotive:0},48:{id:48,from:"42",fromCity:"Venezia",to:"46",toCity:"Zagrab",elements:[{x:47.875,y:60.60037523452158},{x:51.125,y:61.53846153846154}],color:"gray",locomotive:0},49:{id:49,from:"33",fromCity:"Roma",to:"7",toCity:"Brindisi",elements:[{x:49.125,y:73.73358348968105},{x:52.37500000000001,y:75.79737335834896}],color:"white",locomotive:0},50:{id:50,from:"33",fromCity:"Roma",to:"28",toCity:"Palermo",elements:[{x:48.125,y:76.36022514071294},{x:51.125,y:80.1125703564728},{x:52,y:85.17823639774859},{x:50.74999999999999,y:90.2439024390244}],color:"gray",locomotive:1},51:{id:51,from:"7",fromCity:"Brindisi",to:"28",toCity:"Palermo",elements:[{x:51.625,y:91.36960600375235},{x:54,y:87.4296435272045},{x:54.75,y:82.36397748592871}],color:"gray",locomotive:1},52:{id:52,from:"7",fromCity:"Brindisi",to:"3",toCity:"Athina",elements:[{x:56.00000000000001,y:81.61350844277673},{x:57.375,y:86.30393996247655},{x:59.875,y:90.0562851782364},{x:63.5,y:90.61913696060037}],color:"gray",locomotive:1},53:{id:53,from:"28",fromCity:"Palermo",to:"38",toCity:"Smyrna",elements:[{x:54,y:93.43339587242026},{x:57.375,y:93.24577861163228},{x:61,y:93.43339587242026},{x:64.5,y:93.43339587242026},{x:67.875,y:93.24577861163228},{x:71.625,y:93.43339587242026}],color:"gray",locomotive:2},54:{id:54,from:"3",fromCity:"Athina",to:"38",toCity:"Smyrna",elements:[{x:68.375,y:89.49343339587243},{x:71.875,y:90.61913696060037}],color:"gray",locomotive:1},55:{id:55,from:"5",fromCity:"Berlin",to:"13",toCity:"Danzig",elements:[{x:49.5,y:29.45590994371482},{x:51.125,y:24.202626641651033},{x:53.87499999999999,y:21.575984990619137},{x:57.49999999999999,y:21.575984990619137}],color:"gray",locomotive:0},56:{id:56,from:"5",fromCity:"Berlin",to:"43",toCity:"Warszawa",elements:[{x:51.5,y:32.4577861163227},{x:54.87499999999999,y:31.51969981238274},{x:58.5,y:30.95684803001876},{x:62,y:31.51969981238274}],color:"purple",locomotive:0},57:{id:57,from:"5",fromCity:"Berlin",to:"43",toCity:"Warszawa",elements:[{x:51.5,y:34.52157598499062},{x:55.00000000000001,y:33.39587242026266},{x:58.5,y:33.20825515947467},{x:61.875,y:33.39587242026266}],color:"yellow",locomotive:0},58:{id:58,from:"5",fromCity:"Berlin",to:"44",toCity:"Wien",elements:[{x:49.875,y:38.27392120075047},{x:51.24999999999999,y:42.964352720450286},{x:53,y:47.467166979362105}],color:"green",locomotive:0},59:{id:59,from:"13",fromCity:"Danzig",to:"43",toCity:"Warszawa",elements:[{x:62,y:24.765478424015008},{x:64,y:29.080675422138835}],color:"gray",locomotive:0},60:{id:60,from:"13",fromCity:"Danzig",to:"32",toCity:"Riga",elements:[{x:60.62499999999999,y:19.324577861163228},{x:62.375,y:14.634146341463413},{x:65.375,y:11.25703564727955}],color:"black",locomotive:0},61:{id:61,from:"43",fromCity:"Warszawa",to:"44",toCity:"Wien",elements:[{x:56.49999999999999,y:48.21763602251407},{x:59.25,y:45.0281425891182},{x:61.625,y:41.088180112570356},{x:63.5,y:36.58536585365854}],color:"blue",locomotive:0},62:{id:62,from:"44",fromCity:"Wien",to:"46",toCity:"Zagrab",elements:[{x:53.75,y:54.22138836772983},{x:53.5,y:59.66228893058161}],color:"gray",locomotive:0},63:{id:63,from:"44",fromCity:"Wien",to:"10",toCity:"Budapest",elements:[{x:56.875,y:52.34521575984991}],color:"red",locomotive:0},64:{id:64,from:"44",fromCity:"Wien",to:"10",toCity:"Budapest",elements:[{x:56.25,y:54.03377110694184}],color:"white",locomotive:0},65:{id:65,from:"46",fromCity:"Zagrab",to:"10",toCity:"Budapest",elements:[{x:57.49999999999999,y:57.223264540337716},{x:55.375,y:61.53846153846154}],color:"orange",locomotive:0},66:{id:66,from:"46",fromCity:"Zagrab",to:"35",toCity:"Sarajevo",elements:[{x:53.5,y:67.54221388367729},{x:55.50000000000001,y:72.04502814258912},{x:58.875,y:73.17073170731707}],color:"red",locomotive:0},67:{id:67,from:"10",fromCity:"Budapest",to:"35",toCity:"Sarajevo",elements:[{x:59.75,y:58.16135084427767},{x:60.25,y:63.22701688555347},{x:60.75000000000001,y:68.48030018761726}],color:"purple",locomotive:0},68:{id:68,from:"35",fromCity:"Sarajevo",to:"3",toCity:"Athina",elements:[{x:61.25000000000001,y:75.79737335834896},{x:61.12499999999999,y:81.05065666041276},{x:60.75000000000001,y:86.11632270168855},{x:63.125,y:88.18011257035647}],color:"green",locomotive:0},69:{id:69,from:"35",fromCity:"Sarajevo",to:"40",toCity:"Sofia",elements:[{x:63.625,y:70.1688555347092},{x:66.25,y:70.1688555347092}],color:"gray",locomotive:0},70:{id:70,from:"40",fromCity:"Sofia",to:"3",toCity:"Athina",elements:[{x:66.125,y:75.60975609756098},{x:64.375,y:81.05065666041276},{x:65.25,y:85.92870544090057}],color:"purple",locomotive:0},71:{id:71,from:"40",fromCity:"Sofia",to:"12",toCity:"Constantinople",elements:[{x:69.75,y:75.23452157598499},{x:72.875,y:77.86116322701689},{x:75.875,y:80.30018761726079}],color:"blue",locomotive:0},72:{id:72,from:"12",fromCity:"Constantinople",to:"38",toCity:"Smyrna",elements:[{x:76.75,y:84.9906191369606},{x:75.125,y:89.6810506566604}],color:"gray",locomotive:0},73:{id:73,from:"40",fromCity:"Sofia",to:"9",toCity:"Bucuresti",elements:[{x:72.375,y:67.7298311444653},{x:70.125,y:71.48217636022514}],color:"gray",locomotive:0},74:{id:74,from:"10",fromCity:"Budapest",to:"9",toCity:"Bucuresti",elements:[{x:61.625,y:55.34709193245778},{x:64.75,y:57.78611632270169},{x:67.75,y:60.41275797373359},{x:70.875,y:62.6641651031895}],color:"gray",locomotive:0},75:{id:75,from:"9",fromCity:"Bucuresti",to:"12",toCity:"Constantinople",elements:[{x:74.5,y:68.10506566604127},{x:75.875,y:72.79549718574108},{x:77.125,y:77.6735459662289}],color:"yellow",locomotive:0},76:{id:76,from:"10",fromCity:"Budapest",to:"21",toCity:"Kyiv",elements:[{x:60.375,y:50.84427767354597},{x:63.24999999999999,y:47.091932457786115},{x:66.125,y:44.27767354596623},{x:69.375,y:42.40150093808631},{x:72.75,y:41.275797373358344},{x:76.375,y:41.46341463414634}],color:"gray",locomotive:0},77:{id:77,from:"9",fromCity:"Bucuresti",to:"21",toCity:"Kyiv",elements:[{x:77,y:45.40337711069418},{x:75.875,y:50.28142589118198},{x:74.75,y:55.34709193245778},{x:73.75,y:60.0375234521576}],color:"gray",locomotive:0},78:{id:78,from:"43",fromCity:"Warszawa",to:"21",toCity:"Kyiv",elements:[{x:66.25,y:35.45966228893058},{x:69.25,y:38.46153846153847},{x:72.75,y:39.39962476547842},{x:76.25,y:39.39962476547842}],color:"gray",locomotive:0},79:{id:79,from:"21",fromCity:"Kyiv",to:"45",toCity:"Wilno",elements:[{x:77.5,y:31.894934333958723},{x:79,y:36.39774859287054}],color:"gray",locomotive:0},80:{id:80,from:"43",fromCity:"Warszawa",to:"45",toCity:"Wilno",elements:[{x:66.25,y:30.0187617260788},{x:69.125,y:26.82926829268293},{x:72.625,y:27.954971857410882}],color:"red",locomotive:0},81:{id:81,from:"32",fromCity:"Riga",to:"45",toCity:"Wilno",elements:[{x:67.5,y:13.883677298311445},{x:68.125,y:19.324577861163228},{x:70.5,y:23.452157598499063},{x:73.375,y:26.07879924953096}],color:"green",locomotive:0},82:{id:82,from:"41",fromCity:"Stockholm",to:"31",toCity:"Petrograd",elements:[{x:58.12500000000001,y:9.193245778611631},{x:60.62499999999999,y:7.879924953095685},{x:63.87500000000001,y:6.191369606003752},{x:67.625,y:6.191369606003752},{x:70.875,y:6.191369606003752},{x:74.5,y:6.191369606003752},{x:78,y:6.191369606003752},{x:81.5,y:7.5046904315197}],color:"gray",locomotive:0},83:{id:83,from:"32",fromCity:"Riga",to:"31",toCity:"Petrograd",elements:[{x:70.5,y:10.506566604127581},{x:73.875,y:10.318949343339586},{x:77.375,y:9.943714821763603},{x:81,y:9.943714821763603}],color:"gray",locomotive:0},84:{id:84,from:"45",fromCity:"Wilno",to:"31",toCity:"Petrograd",elements:[{x:82.625,y:13.133208255159476},{x:80.625,y:17.26078799249531},{x:78.625,y:21.388367729831145},{x:76.5,y:25.70356472795497}],color:"blue",locomotive:0},85:{id:85,from:"45",fromCity:"Wilno",to:"37",toCity:"Smolensk",elements:[{x:77.5,y:27.01688555347092},{x:79.875,y:24.953095684803},{x:82.625,y:27.954971857410882}],color:"yellow",locomotive:0},86:{id:86,from:"37",fromCity:"Smolensk",to:"21",toCity:"Kyiv",elements:[{x:85.625,y:33.771106941838646},{x:84.875,y:38.83677298311445},{x:81.5,y:40.71294559099437}],color:"red",locomotive:0},87:{id:87,from:"21",fromCity:"Kyiv",to:"19",toCity:"Kharkov",elements:[{x:79.75,y:44.46529080675422},{x:82.125,y:48.405253283302066},{x:85.5,y:49.71857410881801},{x:89.25,y:48.96810506566604}],color:"gray",locomotive:0},88:{id:88,from:"19",fromCity:"Kharkov",to:"34",toCity:"Rostov",elements:[{x:94.5,y:48.405253283302066},{x:95.5,y:51.78236397748592}],color:"green",locomotive:0},89:{id:89,from:"34",fromCity:"Rostov",to:"36",toCity:"Sevastopol",elements:[{x:87.5,y:62.851782363977485},{x:88,y:57.5984990619137},{x:89.5,y:54.03377110694184},{x:92.875,y:54.971857410881796}],color:"gray",locomotive:0},90:{id:90,from:"9",fromCity:"Bucuresti",to:"36",toCity:"Sevastopol",elements:[{x:75.5,y:61.72607879924953},{x:78.625,y:58.91181988742964},{x:82.25,y:59.849906191369605},{x:85.125,y:63.22701688555347}],color:"white",locomotive:0},91:{id:91,from:"34",fromCity:"Rostov",to:"39",toCity:"Sochi",elements:[{x:95.375,y:59.47467166979362},{x:95.125,y:64.54033771106941}],color:"gray",locomotive:0},92:{id:92,from:"36",fromCity:"Sevastopol",to:"39",toCity:"Sochi",elements:[{x:89.25,y:66.97936210131333},{x:92.5,y:67.7298311444653}],color:"gray",locomotive:1},93:{id:93,from:"36",fromCity:"Sevastopol",to:"12",toCity:"Constantinople",elements:[{x:79.75,y:78.98686679174483},{x:82.125,y:77.11069418386491},{x:84.5,y:75.23452157598499},{x:85.5,y:70.1688555347092}],color:"gray",locomotive:2},94:{id:94,from:"36",fromCity:"Sevastopol",to:"16",toCity:"Erzurum",elements:[{x:86.875,y:70.1688555347092},{x:87.125,y:75.42213883677297},{x:88.5,y:80.48780487804879},{x:90.875,y:84.24015009380864}],color:"gray",locomotive:2},95:{id:95,from:"39",fromCity:"Sochi",to:"16",toCity:"Erzurum",elements:[{x:94.625,y:72.79549718574108},{x:94.25,y:77.6735459662289},{x:93.625,y:82.92682926829268}],color:"red",locomotive:0},96:{id:96,from:"16",fromCity:"Erzurum",to:"2",toCity:"Angora",elements:[{x:88,y:91.55722326454033},{x:91.5,y:92.3076923076923},{x:93.75,y:90.0562851782364}],color:"black",locomotive:0},97:{id:97,from:"2",fromCity:"Angora",to:"12",toCity:"Constantinople",elements:[{x:80.625,y:84.42776735459663},{x:83.375,y:87.4296435272045}],color:"gray",locomotive:0},98:{id:98,from:"2",fromCity:"Angora",to:"38",toCity:"Smyrna",elements:[{x:76.875,y:93.80863039399625},{x:80.25,y:93.62101313320825},{x:83.75,y:91.74484052532833}],color:"orange",locomotive:0},99:{id:99,from:"37",fromCity:"Smolensk",to:"26",toCity:"Moskva",elements:[{x:87.5,y:30.206378986866795},{x:91,y:28.517823639774857}],color:"orange",locomotive:0},100:{id:100,from:"31",fromCity:"Petrograd",to:"26",toCity:"Moskva",elements:[{x:86.25,y:10.694183864915573},{x:89.5,y:13.320825515947469},{x:91.625,y:17.636022514071296},{x:92.625,y:23.076923076923077}],color:"white",locomotive:0},101:{id:101,from:"26",fromCity:"Moskva",to:"19",toCity:"Kharkov",elements:[{x:94.25,y:30.0187617260788},{x:95.375,y:35.0844277673546},{x:95.125,y:40.52532833020638},{x:93.375,y:45.0281425891182}],color:"gray",locomotive:0}},destinations:{1:{id:"1",from:"3",to:"2",fromCity:"Athina",toCity:"Angora",value:"5"},2:{id:"2",from:"10",to:"40",fromCity:"Budapest",toCity:"Sofia",value:"5"},3:{id:"3",from:"18",to:"20",fromCity:"Frankfurt",toCity:"Kobenhavn",value:"5"},4:{id:"4",from:"34",to:"16",fromCity:"Rostov",toCity:"Erzurum",value:"5"},5:{id:"5",from:"40",to:"38",fromCity:"Sofia",toCity:"Smyrna",value:"5"},6:{id:"6",from:"21",to:"31",fromCity:"Kyiv",toCity:"Petrograd",value:"6"},7:{id:"7",from:"47",to:"7",fromCity:"Zurich",toCity:"Brindisi",value:"6"},8:{id:"8",from:"47",to:"10",fromCity:"Zurich",toCity:"Budapest",value:"6"},9:{id:"9",from:"43",to:"37",fromCity:"Warszawa",toCity:"Smolensk",value:"6"},10:{id:"10",from:"46",to:"7",fromCity:"Zagrab",toCity:"Brindisi",value:"6"},11:{id:"11",from:"30",to:"46",fromCity:"Paris",toCity:"Zagrab",value:"7"},12:{id:"12",from:"6",to:"25",fromCity:"Brest",toCity:"Marseille",value:"7"},13:{id:"13",from:"23",to:"5",fromCity:"London",toCity:"Berlin",value:"7"},14:{id:"14",from:"15",to:"30",fromCity:"Edinburgh",toCity:"Paris",value:"7"},15:{id:"15",from:"1",to:"29",fromCity:"Amsterdam",toCity:"Pamplona",value:"7"},16:{id:"16",from:"33",to:"38",fromCity:"Roma",toCity:"Smyrna",value:"8"},17:{id:"17",from:"28",to:"12",fromCity:"Palermo",toCity:"Constantinople",value:"8"},18:{id:"18",from:"35",to:"36",fromCity:"Sarajevo",toCity:"Sevastopol",value:"8"},19:{id:"19",from:"24",to:"14",fromCity:"Madrid",toCity:"Dieppe",value:"8"},20:{id:"20",from:"4",to:"8",fromCity:"Barcelona",toCity:"Bruxelles",value:"8"},21:{id:"21",from:"30",to:"44",fromCity:"Paris",toCity:"Wien",value:"8"},22:{id:"22",from:"4",to:"27",fromCity:"Barcelona",toCity:"Munchen",value:"8"},23:{id:"23",from:"6",to:"42",fromCity:"Brest",toCity:"Venezia",value:"8"},24:{id:"24",from:"37",to:"34",fromCity:"Smolensk",toCity:"Rostov",value:"8"},25:{id:"25",from:"25",to:"17",fromCity:"Marseille",toCity:"Essen",value:"8"},26:{id:"26",from:"21",to:"39",fromCity:"Kyiv",toCity:"Sochi",value:"8"},27:{id:"27",from:"24",to:"47",fromCity:"Madrid",toCity:"Zurich",value:"8"},28:{id:"28",from:"5",to:"9",fromCity:"Berlin",toCity:"Bucuresti",value:"8"},29:{id:"29",from:"8",to:"13",fromCity:"Bruxelles",toCity:"Danzig",value:"9"},30:{id:"30",from:"5",to:"33",fromCity:"Berlin",toCity:"Roma",value:"9"},31:{id:"31",from:"2",to:"19",fromCity:"Angora",toCity:"Kharkov",value:"10"},32:{id:"32",from:"32",to:"9",fromCity:"Riga",toCity:"Bucuresti",value:"10"},33:{id:"33",from:"17",to:"21",fromCity:"Essen",toCity:"Kyiv",value:"10"},34:{id:"34",from:"42",to:"12",fromCity:"Venezia",toCity:"Constantinople",value:"10"},35:{id:"35",from:"23",to:"44",fromCity:"London",toCity:"Wien",value:"10"},36:{id:"36",from:"3",to:"45",fromCity:"Athina",toCity:"Wilno",value:"11"},37:{id:"37",from:"41",to:"44",fromCity:"Stockholm",toCity:"Wien",value:"11"},38:{id:"38",from:"5",to:"26",fromCity:"Berlin",toCity:"Moskva",value:"12"},39:{id:"39",from:"1",to:"45",fromCity:"Amsterdam",toCity:"Wilno",value:"12"},40:{id:"40",from:"18",to:"37",fromCity:"Frankfurt",toCity:"Smolensk",value:"13"}},longDestinations:{1:{id:"1",from:"22",to:"13",fromCity:"Lisboa",toCity:"Danzig",value:"20"},2:{id:"2",from:"6",to:"31",fromCity:"Brest",toCity:"Petrograd",value:"20"},3:{id:"3",from:"28",to:"26",fromCity:"Palermo",toCity:"Moskva",value:"20"},4:{id:"4",from:"20",to:"16",fromCity:"Kobenhavn",toCity:"Erzurum",value:"21"},5:{id:"5",from:"15",to:"3",fromCity:"Edinburgh",toCity:"Athina",value:"21"},6:{id:"6",from:"11",to:"41",fromCity:"Cadiz",toCity:"Stockholm",value:"21"}}};function Rt(t){return t.players}function Tt(t){return Rt(t)[t.game.currentPlayerId]}function Bt(t){return Rt(t).find((function(t){return t.socketId===F()}))}function Dt(t){var e,o=Rt(t),r=[],n=Object(It.a)(o);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.builtConnections.length>0&&r.push({color:i.color,connections:i.builtConnections})}}catch(a){n.e(a)}finally{n.f()}return r}function Mt(t,e){var o=new Array(Object.values(wt.cities).length+1).fill(0),r=new Array(Object.values(wt.cities).length+1).fill(100),n=[],i=[];for(i.push(t),r[t]=0;i.length>0;){var a,c=i[0],l=Object(It.a)(e);try{for(l.s();!(a=l.n()).done;){var s=a.value;if(!n.includes(s)){var y=wt.connections[s];if(y.from===c||y.to===c){var m=y.from===c?y.to:y.from;(100===r[m]||r[m]<r[c])&&(r[m]=r[c]+1,o[m]=c,i.push(m)),n.push(s)}}}}catch(d){l.e(d)}finally{l.f()}i.shift()}return{pi:o,d:r}}var At=o(24),_t=o.n(At),Pt=o(69);var zt=function(t){var e=t.city,o=t.setChosenCity,r=t.active,n=t.neighbour,i=t.ticketShow,a="calc("+e.x+"% - 0.6rem)",c="calc("+e.y+"% - 0.6rem)";return Object(l.jsx)(Pt.a.span,{className:_t()("position-absolute","dot"),animate:{transition:{duration:.15},scale:1,backgroundColor:r?"#ffffff":"#2e2e2e",borderColor:i?"#008FFF":r?"#2e2e2e":"#ffffff",borderWidth:n||i?"0.2rem":"0rem"},whileHover:{scale:1.2},style:{left:a,top:c,borderStyle:"solid"},onClick:function(){o(e.city)}})};var Lt=function(t){var e=t.color,o=t.connection,r=t.ticketShow,n=o.elements.map((function(t,o){return Object(l.jsx)(Pt.a.span,{className:_t()("position-absolute","dot"),style:{left:"calc("+t.x+"% - 0.6rem)",top:"calc("+t.y+"% - 0.6rem)",backgroundColor:e,scale:2,borderStyle:"solid",borderColor:"#008FFF",borderWidth:"0rem"},whileHover:{scale:1.3},animate:{transition:{duration:r?.15:.5},scale:1,borderWidth:r?"0.2rem":"0rem"}},o)}));return Object(l.jsx)(l.Fragment,{children:n})};var Ft=function(t){var e=t.chosenCity,o=t.setChosenCity,r=t.showTicketCities,n=Object(y.c)(Bt),i=Object.values(wt.connections).filter((function(t){return t.fromCity===e||t.toCity===e})).map((function(t){return t.fromCity===e?t.toCity:t.fromCity})),a=Object(y.c)(Dt),c=n.builtConnections,s=[];if(r){var m=Mt(r.from,c).pi;if(n.completedTickets.find((function(t){return t.id+1===+r.id})))for(var d=r.to;0!==d&&d!==r.from;){var u,f=Object(It.a)(c);try{for(f.s();!(u=f.n()).done;){var x=u.value,j=wt.connections[x];if(j.from===d&&j.to===m[d]||j.to===d&&j.from===m[d]){s.push(x);break}}}catch(C){f.e(C)}finally{f.f()}d=m[d]}}var b=[];a.forEach((function(t){var e=t.color;t.connections.forEach((function(t){var o=Object.values(wt.connections)[t-1];b.push(Object(l.jsx)(Lt,{color:e,connection:o,ticketShow:s.includes(t)},o.id))}))}));var v=Object.values(wt.cities).map((function(t){return Object(l.jsx)(zt,{city:t,chosenCity:e,setChosenCity:o,active:e===t.city,neighbour:-1!==i.findIndex((function(e){return t.city===e})),ticketShow:r&&(r.fromCity===t.city||r.toCity===t.city||s.some((function(e){return Object.values(wt.connections)[e-1].fromCity===t.city||Object.values(wt.connections)[e-1].toCity===t.city})))},t.id)}));return Object(l.jsx)("div",{className:"px-auto mx-auto",children:Object(l.jsxs)("div",{className:"container position-relative mx-0 px-0",children:[Object(l.jsx)("img",{src:"map.png",className:"map-img",alt:""}),Object.values(v),b]})})};function Wt(t){return t.deck}function Ut(t){return Wt(t).filter((function(t){return t.cardState===J.DECK}))}function Kt(t){var e,o=Wt(t).filter((function(t){return t.cardState>=J.PLAYERS[0]})),r=Rt(t),n=[],i=Object(It.a)(r);try{for(i.s();!(e=i.n()).done;){var a=e.value;n.push({playerId:a.id,cards:Ht(o,a.id)})}}catch(c){i.e(c)}finally{i.f()}return n}function Vt(t){var e=Bt(t);return Ht(Wt(t),e.id)}function Gt(t){return Wt(t).filter((function(t){return J.PUBLIC.includes(t.cardState)}))}function Zt(t){return Wt(t).filter((function(t){return t.cardState===J.DECK}))[0]}function Ht(t,e){for(var o=t.filter((function(t){return t.cardState===e})),r=[],n=function(){var t=a[i],e=o.filter((function(e){return e.color===t})).length;r.push({color:t,amount:e})},i=0,a=Object.values(H);i<a.length;i++)n();return r}var qt=o(46),Jt=o(45),Yt=o(36),Xt=o(31);var Qt=function(t){var e=t.player,o=t.active,r=t.cards.reduce((function(t,e){e._;return t+e.amount}),0);return Object(l.jsxs)("div",{className:_t()("card","my-2","py-1",{active:o}),children:[Object(l.jsxs)("div",{className:"row justify-content-between m-0 px-2",children:[Object(l.jsxs)("span",{children:[Object(l.jsx)(Xt.b,{color:e.color})," ",e.name," (",e.points,")"]}),Object(l.jsxs)("span",{children:[Object(l.jsx)(Yt.b,{})," ",e.tickets.length]})]}),Object(l.jsx)("div",{className:"row justify-content-end m-0 px-2",children:Object(l.jsxs)("span",{children:[Object(l.jsx)(Jt.a,{}),e.remainingCars]})}),Object(l.jsxs)("div",{className:"row justify-content-between m-0 px-2",children:[Object(l.jsxs)("span",{children:[Object(l.jsx)(qt.a,{})," ",r]}),Object(l.jsxs)("span",{children:[Object(l.jsx)(Xt.a,{})," ",e.round]})]})]})};var $t=function(){var t=Object(y.c)(Rt),e=Object(y.c)(Tt),o=Object(y.c)(Kt),r=t.map((function(t,r){return Object(l.jsx)(Qt,{player:t,active:t===e,cards:o.find((function(e){return e.playerId===t.id})).cards},r)}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:"J\xe1t\xe9kosok"}),r]})};function te(t){return t.game}function ee(t,e){var o=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),n=parseInt(t.substring(5,7),16);return o=parseInt(o*(100+e)/100),r=(r=parseInt(r*(100+e)/100))<255?r:255,n=(n=parseInt(n*(100+e)/100))<255?n:255,"#"+(1===(o=o<255?o:255).toString(16).length?"0"+o.toString(16):o.toString(16))+(1===r.toString(16).length?"0"+r.toString(16):r.toString(16))+(1===n.toString(16).length?"0"+n.toString(16):n.toString(16))}var oe=function(t){var e=t.cardData,o=t.onClick,n=void 0===o?{}:o,i=t.clickable,a=function(){var t=Object(r.useState)(!1),e=Object(c.a)(t,2),o=e[0],n=e[1];return{destroy:o,setDestroyed:function(){return!o&&(n(!0),setTimeout((function(){n(!1)}),500),!0)}}}(),s=a.destroy,y=a.setDestroyed;return Object(l.jsx)(Pt.a.button,{className:"game-card card my-2 mx-1 p-0",whileHover:{transition:{duration:.15},scale:i?1.1:1},whileTap:{scale:i?.9:1},variants:{destroy:{opacity:0,x:"-50%",scale:2,transition:{duration:.25}},simple:{opacity:1,x:0,scale:1,transition:{duration:.25}}},animate:s?"destroy":"simple",onClick:function(){n()&&y()},style:e&&{background:"linear-gradient(135deg,"+e.color+","+ee(e.color,-40)+")",x:"-50%",opacity:0}})};var re=function(t){var e=t.changeShowNotificationModal,o=Object(y.c)(Gt),n=Object(y.c)(te),i=Object(r.useState)(!1),a=Object(c.a)(i,2),s=a[0],m=a[1],d=Object(y.c)(Tt),u=Object(y.c)(Bt),f=Object(y.b)(),x=Object(j.a)(Array(5).keys()).map((function(t){var r=o.find((function(e){return e.cardState===J.PUBLIC[t]}));return Object(l.jsx)(oe,{cardData:r,clickable:!s,onClick:function(){if(!s&&r)return d===u&&n.gameState===Y.USER_BEGIN||n.gameState===Y.DRAW_CARDS&&r.color!==H.LOCOMOTIVE?(setTimeout((function(){f(xt(d.id,"K\xe1rty\xe1t h\xfazott: "+Object.keys(H).find((function(t){return H[t]===r.color})))),f(ot(Object(V.a)(Object(V.a)({},r),{},{cardState:d.id}))),m(!1)}),250),m(!0),f(St(n.gameState===Y.USER_BEGIN?r.color===H.LOCOMOTIVE?Y.DRAW_CARD2:Y.DRAW_CARDS:Y.DRAW_CARD2)),f(M(h,[n.id,{game:n},!0],(function(){}))),!0):(e("Most nem tudsz \xfaj k\xe1rty\xe1t h\xfazni."),!1)}},t)}));return Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"mx-auto",children:"Felfedett vas\xfatkocsi-k\xe1rty\xe1k"}),Object(l.jsx)("div",{className:"my-2 p-0 mx-auto",children:x})]})};var ne=function(){var t=Object(y.b)(),e=Object(y.c)(Ut).length,o=Object(y.c)(Zt),r=Object(y.c)(Tt),n=Object(y.c)(te),i=Object(y.c)(Bt);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{children:"H\xfaz\xf3pakli"}),Object(l.jsx)("button",{className:"game-card card my-2 mx-1 p-0 border",style:{backgroundColor:"#333333"},onClick:function(){n.gameState!==Y.USER_BEGIN&&n.gameState!==Y.DRAW_CARDS||r!==i||(t(ot(Object(V.a)(Object(V.a)({},o),{},{cardState:r.id}))),t(xt(r.id,"K\xe1rty\xe1t h\xfazott: "+Object.keys(H).find((function(t){return H[t]===o.color})))),t(St(n.gameState===Y.USER_BEGIN?Y.DRAW_CARDS:Y.DRAW_CARD2)),t(M(h,[n.id,{game:n},!0],(function(){}))))},children:Object(l.jsx)("span",{className:"game-card card w-100 h-100 border",style:{backgroundColor:"#333333",top:"-0.2rem"},children:Object(l.jsx)("span",{className:"game-card card w-100 h-100 border-0",style:{backgroundColor:"#999999",top:"-0.2rem"},children:e})})})]})};var ie=function(t){var e=t.ticketData,o=t.long,r=t.completed;return Object(l.jsxs)("div",{className:_t()("card ticket-card",{completed:r}),children:[Object(l.jsxs)("div",{className:"h-100 d-flex flex-row",children:[Object(l.jsx)("div",{className:"my-auto ml-1",children:Object(l.jsx)(Yt.a,{className:"",size:50})}),Object(l.jsxs)("div",{className:"my-auto ml-1 text-left",children:[Object(l.jsx)("span",{children:e.fromCity}),Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:e.toCity})]})]}),o&&Object(l.jsx)("small",{children:"Hossz\xfa c\xe9l"})]})};var ae=function(t){var e=t.setShowModal,o=t.setShowTicketCities,n=Object(r.useState)([]),i=Object(c.a)(n,2),a=i[0],s=i[1],m=Object(r.useState)([]),d=Object(c.a)(m,2),u=d[0],f=d[1],x=Object(y.b)(),b=Object(y.c)(Tt),v=Object(y.c)(te),C=Object(y.c)(Rt);Object(r.useEffect)((function(){for(var t=[],e=0;e<3;e++){var o=Math.floor(46*Math.random()),r=o>=40;t.push({id:r?o-40:o,long:r})}f(t)}),[x]);var p=u.map((function(t,e){var r=Object.values(t.long?wt.longDestinations:wt.destinations)[t.id];return Object(l.jsx)(Pt.a.a,{className:"btn mx-4",variants:{selected:{scale:1.2},simple:{scale:1}},animate:a.findIndex((function(t){return t===e}))>-1?"selected":"simple",transition:{duration:1},onClick:function(){var t=a.findIndex((function(t){return t===e}));t>-1?(a.splice(t,1),s(Object(j.a)(a))):s([].concat(Object(j.a)(a),[e]))},onMouseEnter:function(){o(r)},onMouseLeave:function(){o(null)},children:Object(l.jsx)(ie,{ticketData:r,long:t.long,completed:!1})},e)}));return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"position-absolute w-100 h-100 d-flex flex-col align-items-end",style:{backgroundColor:"#00000022",top:0,left:0,zIndex:999},children:Object(l.jsxs)(Pt.a.div,{className:"col py-4",style:{backgroundColor:"#00000088",opacity:0},animate:{opacity:1},children:[Object(l.jsx)("div",{children:p}),Object(l.jsx)("div",{className:"mt-4",children:Object(l.jsx)("button",{type:"button",className:"btn button-orange",onClick:function(){var t,o=Object(It.a)(a);try{for(o.s();!(t=o.n()).done;){var r=t.value;x(ft(b.id,{id:u[r].id,long:u[r].long},!0))}}catch(n){o.e(n)}finally{o.f()}e(!1),x(xt(b.id,a.length+" db \xfaj c\xe9lk\xe1rty\xe1t h\xfazott",!0)),x(M(O,[v.id,{type:g},!1],(function(){}))),x(M(h,[v.id,{players:C,game:v},!0],(function(){})))},disabled:0===a.length,children:"Elfogad"})})]})})})};var ce=function(t){var e=t.setShowTicketCities,o=t.changeShowNotificationModal,n=Object(r.useState)(!1),i=Object(c.a)(n,2),a=i[0],s=i[1],m=Object(y.c)(te),d=Object(y.c)(Tt),u=Object(y.c)(Bt);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{children:"C\xe9lok h\xfaz\xf3paklija"}),Object(l.jsx)("button",{className:"game-card card my-2 mx-1 p-0 border",style:{backgroundColor:"#333333"},onClick:function(){m.gameState===Y.USER_BEGIN&&u===d?s(!0):o("Most nem tudsz \xfaj c\xe9lokat h\xfazni.")},children:Object(l.jsx)("span",{className:"game-card card w-100 h-100 border",style:{backgroundColor:"#333333",top:"-0.2rem"},children:Object(l.jsx)("span",{className:"game-card card w-100 h-100 border-0",style:{backgroundColor:"#999999",top:"-0.2rem"}})})}),a&&Object(l.jsx)(ae,{setShowModal:s,setShowTicketCities:e})]})};function le(t,e){var o=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),n=parseInt(t.substring(5,7),16);return o=parseInt(o*(100+e)/100),r=(r=parseInt(r*(100+e)/100))<255?r:255,n=(n=parseInt(n*(100+e)/100))<255?n:255,"#"+(1===(o=o<255?o:255).toString(16).length?"0"+o.toString(16):o.toString(16))+(1===r.toString(16).length?"0"+r.toString(16):r.toString(16))+(1===n.toString(16).length?"0"+n.toString(16):n.toString(16))}var se=function(t){var e=t.color,o=t.amount;return Object(l.jsx)("button",{className:"player-card card my-2 mx-1 p-0",style:{background:"linear-gradient(135deg,"+e+","+le(e,-40)+")"},children:Object(l.jsx)("span",{className:"text-white ml-auto mb-auto mt-1 mr-2",children:o})})};var ye=function(){var t=Object(y.c)(Vt).filter((function(t){return t.amount>0})).map((function(t,e){return Object(l.jsx)(se,{color:t.color,amount:t.amount},e)}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:"Aktu\xe1lis j\xe1t\xe9kos k\xe1rty\xe1i"}),Object(l.jsx)("div",{className:"row justify-content-center",children:t})]})};var me=function(){var t=Object(y.c)(Bt).history.map((function(t,e){return Object(l.jsx)("div",{children:t},e)}));return Object(l.jsxs)("div",{className:"col mx-0 px-0",children:[Object(l.jsx)("div",{className:"mx-auto",children:"History"}),Object(l.jsx)("div",{className:"col px-0",children:t})]})},de=o(41);var ue=function(t){var e=t.currentTicketShow,o=t.changeCurrentTicketShow,r=t.setShowTicketCities,n=Object(y.c)(Bt),i=n.tickets[e],a=Object.values(i.long?wt.longDestinations:wt.destinations)[i.id],c=n.completedTickets.some((function(t){return t.id===i.id}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:"Aktu\xe1lis j\xe1t\xe9kos c\xe9ljai"}),Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsx)("button",{type:"button",className:"btn p-0",onMouseEnter:function(){r(a)},onMouseLeave:function(){r(null)},children:Object(l.jsx)(ie,{ticketData:a,completed:c,long:i.long})})}),Object(l.jsxs)("div",{className:"row justify-content-between px-4",children:[Object(l.jsx)("button",{type:"button",className:"btn text-white",onClick:function(){o(-1)},children:Object(l.jsx)(de.a,{})}),Object(l.jsx)("button",{type:"button",className:"btn text-white",onClick:function(){o(1)},children:Object(l.jsx)(de.b,{})})]})," "]})};var fe=function(t){var e=t.closeModal,o=t.buildableConnection,r=Object(y.c)(Vt),n=Object(y.c)(Tt),i=Object(y.c)(te),a=wt.connections[o],c=Object(y.b)(),s=[],m=Math.min(r.find((function(t){return t.color===H.LOCOMOTIVE})).amount,a.elements.length);if("gray"===a.color){var d,u=Object(It.a)(r.filter((function(t){return t.color!==H.LOCOMOTIVE})));try{for(u.s();!(d=u.n()).done;){var f=d.value;if(f.amount>0&&f.amount+m>=a.elements.length){var x=Math.min(f.amount,a.elements.length),b=a.elements.length-x,v=x+m-(a.elements.length-1);m>=a.elements.length&&v--;for(var C=0;C<v;C++)s.push({color:f.color,amount:a.elements.length-b-C,locomotives:b+C})}}}catch(E){u.e(E)}finally{u.f()}m>=a.elements.length&&s.push({color:H.LOCOMOTIVE,amount:0,locomotives:a.elements.length})}else for(var h=Math.min(r.find((function(t){return t.color===H[a.color.toUpperCase()]})).amount,a.elements.length),p=a.elements.length-h,S=h+m-(a.elements.length-1),k=0;k<S;k++)s.push({color:H[a.color.toUpperCase()],amount:a.elements.length-p-k,locomotives:p+k});var N=s.map((function(t,o){for(var r=t.color,s=t.amount,y=t.locomotives,m=[],d=0,u=0;u<s;u++)m.push(Object(l.jsx)(se,{color:r,amount:1},d++));for(var f=0;f<y;f++)m.push(Object(l.jsx)(se,{color:H.LOCOMOTIVE,amount:1},d++));return Object(l.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(l.jsx)("div",{className:"row",children:m}),Object(l.jsx)("button",{className:"btn button-orange m-auto",onClick:function(){s>0&&c(et(n.id,r,s)),y>0&&c(et(n.id,H.LOCOMOTIVE,y)),c(ut(n.id,a.id,!0)),c(xt(n.id,"Meg\xe9p\xedtett egy \xfatvonalat: "+a.fromCity+" - "+a.toCity,!0));var t,o=Object(It.a)(n.tickets);try{var l=function(){var e=t.value;if(!n.completedTickets.find((function(t){return t.id===e.id}))){var o=Object.values(e.long?wt.longDestinations:wt.destinations)[e.id];(function(t,e,o){var r=Mt(t,o),n=r.pi,i=!1;if(100!==r.d[e]){for(var a=e;0!==a&&a!==t;)a=n[a];a===t&&(i=!0)}return i})(o.from,o.to,[].concat(Object(j.a)(n.builtConnections),[a.id]))&&c(jt(n.id,e,!0))}};for(o.s();!(t=o.n()).done;)l()}catch(E){o.e(E)}finally{o.f()}n.remainingCars-a.elements.length<=2&&c(pt(n.round+2,!0)),c(M(O,[i.id,{type:g},!1],(function(){}))),e()},children:"V\xe1laszt"})]},o)}));return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Pt.a.div,{className:"position-absolute w-100 h-100 d-flex flex-col justify-content-center align-items-center",style:{backgroundColor:"#00000088",top:0,left:0,zIndex:999,opacity:0},animate:{opacity:1},children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col",children:N})})})})};var xe=function(t){var e=t.setAppState,o=t.showTicketCities,r=t.setShowTicketCities,n=Object(y.c)(Rt),i=Object(y.b)(),a=Object(y.c)(te),c=n.map((function(t,e){var o=t.tickets.reduce((function(e,o){var r=Object.values(o.long?wt.longDestinations:wt.destinations)[o.id];return e+(t.completedTickets.includes(o)?+r.value:-+r.value)}),0),n=t.tickets.map((function(e,o){var n=Object.values(e.long?wt.longDestinations:wt.destinations)[e.id];return Object(l.jsx)("span",{className:"mx-1 d-inline-block",style:{backgroundColor:t.completedTickets.find((function(t){return t.id===e.id&&t.long===e.long}))?"green":"red",width:"1.5rem",height:"1rem"},onMouseEnter:function(){return r(n)},onMouseLeave:function(){return r(null)}},o)}));return Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{className:"text-left",children:[Object(l.jsx)(Xt.b,{color:t.color})," ",t.name]}),Object(l.jsx)("td",{className:"text-center",children:t.points+o}),Object(l.jsxs)("td",{className:"text-center px-5",children:[Object(l.jsx)("div",{children:o}),Object(l.jsx)("div",{className:"text-left",children:n})]})]},e)}));return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Pt.a.div,{className:"position-absolute w-100 h-100 d-flex flex-col justify-content-center align-items-center",style:{backgroundColor:"#00000088",top:0,left:0,zIndex:999,opacity:0},animate:{opacity:o?.2:1},children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col",children:Object(l.jsxs)("div",{className:"card card-login mx-auto text-center",children:[Object(l.jsx)("div",{className:"card-header mx-auto",children:Object(l.jsx)("span",{className:"logo_title mt-5",children:"J\xe1t\xe9k v\xe9ge"})}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("table",{className:"",children:[Object(l.jsx)("thead",{className:"text-white",children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"N\xe9v"}),Object(l.jsx)("th",{children:"Utak pont\xe9rt\xe9ke"}),Object(l.jsx)("th",{children:"C\xe9lok pont\xe9rt\xe9ke"})]})}),Object(l.jsx)("tbody",{children:c})]}),Object(l.jsx)("button",{type:"button",className:"btn button-silver",onClick:function(){i(M(C,[a.id],(function(){e(m)})))},children:"Vissza a f\u0151men\xfcbe"})]})]})})})})})};var je=function(t){var e=t.message;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Pt.a.div,{className:"position-absolute",style:{backgroundColor:"#00000088",top:"50%",left:"50%",zIndex:999,opacity:0,transform:"translate(-50%, -50%)",padding:"1rem",border:"white solid 0.1rem",borderRadius:"0.75rem"},animate:{opacity:1},children:e})})};var be=function(t){var e=t.setAppState,o=Object(y.c)(te),n=Object(y.c)(Tt),i=Object(y.c)(Bt),a=Object(y.b)();Object(r.useEffect)((function(){a(A(R,(function(t){var e=t.action.payload;switch(t.action.type){case g:a(gt());break;case S:a(ut(e.playerId,e.connectionId));break;case k:a(ft(e.playerId,e.ticket));break;case N:a(xt(e.playerId,e.historyElement));break;case E:a(jt(e.playerId,e.ticket));break;case I:a(pt(e))}}))),a(A(w,(function(t){var e=t.state;e.deck&&a(tt(e.deck))})))}),[a]);var s=i.tickets,m=Object(y.c)(Dt),d=Object(y.c)(Vt),u=Object(r.useState)(null),f=Object(c.a)(u,2),x=f[0],j=f[1],b=function(t){var e=Object(r.useState)(0),o=Object(c.a)(e,2),n=o[0],i=o[1],a=Object(r.useRef)(0);return{currentTicketShow:n,changeCurrentTicketShow:function(e){a.current+=e,a.current<0?a.current=t.length-1:a.current>t.length-1&&(a.current=0),i(a.current)}}}(s),v=b.currentTicketShow,C=b.changeCurrentTicketShow,h=function(){var t=Object(r.useState)(!1),e=Object(c.a)(t,2),o=e[0],n=e[1],i=Object(r.useState)(-1),a=Object(c.a)(i,2),l=a[0],s=a[1];return{showBuildModal:o,buildableConnection:l,changeShowBuildModal:function(t,e){s(e),n(t)}}}(),O=h.showBuildModal,p=h.buildableConnection,T=h.changeShowBuildModal,B=function(){var t=Object(r.useState)(!1),e=Object(c.a)(t,2),o=e[0],n=e[1],i=Object(r.useState)(""),a=Object(c.a)(i,2),l=a[0],s=a[1];return{showNotificationModal:o,notificationMessage:l,changeShowNotificationModal:function(t){o||(setTimeout((function(){n(!1)}),1e3),s(t),n(!0))}}}(),D=B.showNotificationModal,M=B.notificationMessage,_=B.changeShowNotificationModal,P=Object(r.useState)(null),z=Object(c.a)(P,2),L=z[0],F=z[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"h-100 w-100 d-flex flex-column",children:[Object(l.jsxs)("div",{className:"flex-grow-1 d-flex flex-row mt-2",children:[Object(l.jsx)("div",{className:"side-bar text-center d-flex flex-column",children:Object(l.jsx)($t,{})}),Object(l.jsx)("div",{className:"flex-grow-1 text-center px-2 d-flex align-items-center",children:Object(l.jsx)(Ft,{chosenCity:L,setChosenCity:function(t){if(i!==n||o.gameState!==Y.USER_BEGIN&&o.gameState!==Y.BUILD_LINE)_("Most nem tudsz \xe9p\xedteni.");else if(t===L)F(null),a(St(Y.USER_BEGIN));else if(L){var e=m.flatMap((function(t){t._;return t.connections})),r=Object.values(wt.connections).find((function(e){return e.fromCity===t&&e.toCity===L||e.fromCity===L&&e.toCity===t}));if(r.elements.length>i.remainingCars)return void _("Nincs el\xe9g vagonod.");var c=r&&d.some((function(t){var e=t.color,o=t.amount;return("gray"===r.color||e===H[r.color.toUpperCase()]||e===H.LOCOMOTIVE)&&o>=r.elements.length}));if(!c){var l=d.find((function(t){return t.color===H.LOCOMOTIVE})).amount;if("gray"===r.color)c=d.some((function(t){t._;var e=t.amount;return l+e>=r.elements.length}));else c=d.find((function(t){return t.color===H[r.color.toUpperCase()]})).amount+l>=r.elements.length}r&&!e.includes(r.id)&&c?T(!0,r.id):(a(St(Y.USER_BEGIN)),_("Ezt a vonalat nem tudod meg\xe9p\xedteni.")),F(null)}else F(t),a(St(Y.BUILD_LINE))},showTicketCities:x})}),Object(l.jsxs)("div",{className:"side-bar text-center d-flex flex-column align-items-center",children:[Object(l.jsx)("div",{children:Object(l.jsx)(re,{changeShowNotificationModal:_})}),Object(l.jsx)("div",{children:Object(l.jsx)(ne,{})}),Object(l.jsx)("div",{className:"mt-auto mb-4",children:Object(l.jsx)(ce,{setShowTicketCities:j,changeShowNotificationModal:_})})]})]}),Object(l.jsxs)("div",{className:"bottom-bar d-flex flex-row",children:[Object(l.jsx)("div",{className:"side-bar text-center d-flex flex-column",children:Object(l.jsx)(ue,{currentTicketShow:v,changeCurrentTicketShow:C,setShowTicketCities:j})}),Object(l.jsx)("div",{className:"flex-grow-1 text-center px-2 col",children:Object(l.jsx)(ye,{})}),Object(l.jsx)("div",{className:"side-bar text-center d-flex flex-column",children:Object(l.jsx)(me,{})})]})]}),D&&Object(l.jsx)(je,{message:M}),O&&Object(l.jsx)(fe,{buildableConnection:p,closeModal:function(){T(!1,-1)}}),o.gameState===Y.END_GAME&&Object(l.jsx)(xe,{setAppState:e,showTicketCities:x,setShowTicketCities:j})]})};function ve(t,e){switch(t){case m:return Object(l.jsx)(K,{setAppState:e});case d:return Object(l.jsx)(Et,{setAppState:e});case u:return Object(l.jsx)(be,{setAppState:e});default:return Object(l.jsx)(K,{setAppState:e})}}var Ce=function(){var t=Object(r.useState)(m),e=Object(c.a)(t,2),o=e[0],n=e[1],i=Object(r.useState)(null),a=Object(c.a)(i,2),d=(a[0],a[1],Object(y.b)());return Object(r.useEffect)((function(){d({type:"WS_CONNECT",host:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).BACKEND_SERVER||"http://localhost:3031"})}),[d]),Object(l.jsx)(s,{children:ve(o,n)})},he=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,70)).then((function(e){var o=e.getCLS,r=e.getFID,n=e.getFCP,i=e.getLCP,a=e.getTTFB;o(t),r(t),n(t),i(t),a(t)}))},Oe=o(32),pe=o(47),ge=o(48),Se=[];function ke(t){for(var e=Object(j.a)(t),o=e.filter((function(t){return J.PUBLIC.includes(t.cardState)})),r=function(t){if(!o.some((function(e){return e.cardState===J.PUBLIC[t]}))){var r,n=Object(It.a)(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.cardState===J.DECK){i.cardState=J.PUBLIC[t],o.push(i);break}}}catch(a){n.e(a)}finally{n.f()}}},n=0;n<J.PUBLIC.length;n++)r(n);return o.filter((function(t){return t.color===H.LOCOMOTIVE})).length>=3?ke(e=e.map((function(t){return J.PUBLIC.includes(t.cardState)?Object(V.a)(Object(V.a)({},t),{},{cardState:J.REMOVED}):t}))):e}function Ne(t,e){var o=!1,r=t.map((function(t){return t.id===e.id?(t.cardState<=J.PUBLIC[0]&&(o=!0),e):t}));return o&&(r=ke(r)),r}function Ee(t,e,o,r){var n=0;return t.map((function(t){return n<r&&t.cardState===e&&t.color===o?(n++,Object(V.a)(Object(V.a)({},t),{},{cardState:J.REMOVED})):t}))}var Ie={};var we={roomId:-1,roomSize:-1,players:[]};var Re=[];function Te(t,e){var o=e.playerId,r=e.ticket,n=Object.values(r.long?wt.longDestinations:wt.destinations)[r.id];return t.map((function(t){return t.id===o?Object(V.a)(Object(V.a)({},t),{},{completedTickets:[].concat(Object(j.a)(t.completedTickets),[r]),points:t.points+ +n.value}):t}))}function Be(t,e){var o=e;return t.map((function(t){return t.id===o?Object(V.a)(Object(V.a)({},t),{},{round:t.round+1}):t}))}function De(t,e){var o=e.playerId,r=e.ticket;return t.map((function(t){return t.id===o?Object(V.a)(Object(V.a)({},t),{},{tickets:[].concat(Object(j.a)(t.tickets),[r])}):t}))}function Me(t,e){var o=e.playerId,r=e.historyElement;return t.map((function(t){return t.id===o?Object(V.a)(Object(V.a)({},t),{},{history:[r].concat(Object(j.a)(t.history)).slice(0,2)}):t}))}function Ae(t,e){var o=e.playerId,r=e.connectionId,n=Object.values(wt.connections)[r-1],i=[1,2,4,7,0,15,21];return t.map((function(t){return t.id===o?Object(V.a)(Object(V.a)({},t),{},{points:t.points+i[n.elements.length-1],builtConnections:[].concat(Object(j.a)(t.builtConnections),[r]),remainingCars:t.remainingCars-n.elements.length}):t}))}var _e=Object(Oe.createStore)(Object(Oe.combineReducers)({players:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,e=arguments.length>1?arguments[1]:void 0,o=e.type,r=e.payload;switch(o){case rt:return r;case at:return Be(t,r);case it:return De(t,r);case nt:return Ae(t,r);case ct:return Me(t,r);case lt:return Te(t,r);default:return t}},game:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,e=arguments.length>1?arguments[1]:void 0,o=e.type,r=e.payload;switch(o){case vt:return r;case Ct:return Object(V.a)(Object(V.a)({},t),{},{gameState:r});case bt:var n=(t.currentPlayerId+1)%t.playerNumber;return Object(V.a)(Object(V.a)({},t),{},{currentPlayerId:n,gameState:Y.USER_BEGIN});case ht:return Object(V.a)(Object(V.a)({},t),{},{endTurn:r});default:return t}},deck:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,e=arguments.length>1?arguments[1]:void 0,o=e.type,r=e.payload;switch(o){case X:return r;case Q:return Ne(t,r);case $:var n=r.playerId,i=r.color,a=r.amount;return Ee(t,n,i,a);default:return t}},lobby:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,o=arguments.length>1?arguments[1]:void 0,r=o.type,n=o.payload;if(r===_){var i=n.roomId,a=n.roomSize,c=n.players;t={roomId:i,roomSize:a,players:c}}else t=e;return t}}),Object(pe.composeWithDevTools)(Object(Oe.applyMiddleware)(ge.a,(function(){return function(t){return function(e){var o,r;switch(e.type){case"WS_CONNECT":null!==L&&L.close(),L=Object(z.a)(e.host,{transports:["websocket","polling","flashsocket"]});break;case T:!function(t){var e=t.channel,o=t.callback;L.on(e,(function(t){return o(t)}))}(e.payload);break;case B:r=e.payload,L.removeAllListeners(r);break;case D:(o=L).emit.apply(o,[e.channel].concat(Object(j.a)(e.datas),[e.ack]));break;case"WS_DISCONNECT":null!==L&&L.close(),L=null,console.log("websocket closed");break;default:return t(e)}}}}))));a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(y.a,{store:_e,children:Object(l.jsx)(Ce,{})})}),document.getElementById("root")),he()}},[[67,1,2]]]);
//# sourceMappingURL=main.f60f7775.chunk.js.map